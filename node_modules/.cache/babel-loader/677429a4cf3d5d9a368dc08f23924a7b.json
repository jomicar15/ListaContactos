{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Miguel/Desktop/OpenBootcamp/sesion-7-8-9/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/Miguel/Desktop/OpenBootcamp/sesion-7-8-9/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useRef}from'react';import Contact from'../pure/contact';import{User}from'../../models/userClass';import'../../css/contactList.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ContactList=function ContactList(){var userList=[new User('Pedro','Rodriguez',false,20),new User('Carlos','Perez',true,28),new User('Ana','López',false,33)];var _useState=useState(userList),_useState2=_slicedToArray(_useState,2),list=_useState2[0],setList=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),usuarioPrueba=_useState4[0],setUsuarioPrueba=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),mostrarFormulario=_useState6[0],setMostrarFormulario=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),msjError=_useState8[0],setMsjError=_useState8[1];var refName=useRef('');var refLastName=useRef('');var refAge=useRef('');var changeStatus=function changeStatus(usuario){var index=list.indexOf(usuario);var tempUserList=_toConsumableArray(list);tempUserList[index].status=!tempUserList[index].status;eraseModal();setList(tempUserList);};var removeContact=function removeContact(usuario){var index=list.indexOf(usuario);var tempUserList=_toConsumableArray(list);tempUserList.splice(index,1);eraseModal();setList(tempUserList);};var createContact=function createContact(ev){ev.preventDefault();var name=refName.current.value;var lastName=refLastName.current.value;var age=refAge.current.value;var valid=true;var arrayError=[];setMsjError(msjError);if(isNaN(age)||age>120||age===''){arrayError.push(\"La edad es incorrecta\");valid=false;}if(lastName===''){arrayError.push(\"El apellido no es v\\xE1lido\");valid=false;}if(name===''){arrayError.push(\"El nombre no es v\\xE1lido\");valid=false;}if(!valid)setMsjError(arrayError);if(valid){var tempUserList=_toConsumableArray(list);tempUserList.push(new User(name,lastName,false,age));ev.target.reset();setMsjError('');setList(tempUserList);}};var displayForm=function displayForm(){setMostrarFormulario(!mostrarFormulario);};var eraseModal=function eraseModal(){setUsuarioPrueba('');};var showContact=function showContact(usuario){var index=list.indexOf(usuario);setUsuarioPrueba(list[index]);};// console.log(\"el usuario de prueba tiene:\",usuarioPrueba)\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsxs(\"table\",{hidden:list.length>0?false:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Nombre\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"btn-change-status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"remove\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:list.map(function(elemento,index){return/*#__PURE__*/_jsx(Contact,{usuario:elemento,changeStatus:changeStatus,removeContact:removeContact,showContact:showContact},index);})})]}),// Show individual user information\nusuarioPrueba!==''?/*#__PURE__*/_jsxs(\"div\",{className:\"description rel\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"absol bi bi-x\",onClick:eraseModal,style:{cursor:'pointer'}}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Nombre:\"}),\" \",usuarioPrueba.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Apellido:\"}),\" \",usuarioPrueba.lastName]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Edad:\"}),\" \",usuarioPrueba.age]})]}):\"\",/*#__PURE__*/_jsx(\"button\",{className:\"mt-3\",onClick:displayForm,children:\"Crear contacto\"}),// compare to display or not form\nmostrarFormulario?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{className:\"mt-3 rel\",onSubmit:createContact,children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-x form-del absol\",style:{cursor:'pointer'},onClick:displayForm}),\"Nombre: \",/*#__PURE__*/_jsx(\"input\",{ref:refName,type:\"text\",placeholder:\"Ingrese Nombre\"}),\"Apellido: \",/*#__PURE__*/_jsx(\"input\",{ref:refLastName,type:\"text\",placeholder:\"Ingrese Apellido\"}),\"Edad: \",/*#__PURE__*/_jsx(\"input\",{ref:refAge,type:\"text\",placeholder:\"Ingrese Edad\"}),/*#__PURE__*/_jsx(\"ul\",{children:// Compare if the error message have any item\nmsjError.length>0?msjError.map(function(error,index){//return list element with error\nreturn/*#__PURE__*/_jsx(\"li\",{children:error},index);}):\"\"}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"A\\xF1adir\"})]})}):\"\"]});};export default ContactList;","map":{"version":3,"names":["React","useState","useRef","Contact","User","ContactList","userList","list","setList","usuarioPrueba","setUsuarioPrueba","mostrarFormulario","setMostrarFormulario","msjError","setMsjError","refName","refLastName","refAge","changeStatus","usuario","index","indexOf","tempUserList","status","eraseModal","removeContact","splice","createContact","ev","preventDefault","name","current","value","lastName","age","valid","arrayError","isNaN","push","target","reset","displayForm","showContact","length","map","elemento","cursor","error"],"sources":["C:/Users/Miguel/Desktop/OpenBootcamp/sesion-7-8-9/src/components/container/contactList.jsx"],"sourcesContent":["import React, { useState, useRef } from 'react';\r\nimport Contact from '../pure/contact';\r\nimport { User } from '../../models/userClass';\r\nimport '../../css/contactList.css'\r\n\r\n\r\nconst ContactList = () => {\r\n\r\n    const userList = [\r\n        new User('Pedro','Rodriguez',false,20),\r\n        new User('Carlos','Perez',true,28),\r\n        new User('Ana','López',false,33),\r\n    ];\r\n    \r\n    const [list, setList] = useState(userList);\r\n    const [usuarioPrueba,setUsuarioPrueba] = useState('');\r\n    const [mostrarFormulario,setMostrarFormulario] = useState(false);\r\n    const [msjError,setMsjError] = useState('');\r\n\r\n    const refName = useRef('');\r\n    const refLastName = useRef('');\r\n    const refAge = useRef('');\r\n\r\n    const changeStatus = (usuario) =>{\r\n\r\n        const index = list.indexOf(usuario);\r\n        const tempUserList = [...list];\r\n        tempUserList[index].status = !tempUserList[index].status;   \r\n        eraseModal();\r\n        setList(tempUserList);\r\n    }\r\n\r\n    const removeContact = (usuario) =>{\r\n\r\n        const index = list.indexOf(usuario);\r\n        const tempUserList = [...list];\r\n        tempUserList.splice(index,1);\r\n        eraseModal()\r\n        setList(tempUserList);\r\n    }\r\n    \r\n    const createContact = (ev) =>{\r\n\r\n        ev.preventDefault();\r\n        const name=refName.current.value;\r\n        const lastName=refLastName.current.value;\r\n        const age=refAge.current.value;\r\n        let valid = true;\r\n        let arrayError = [];\r\n        setMsjError(msjError);\r\n\r\n        if(isNaN(age) || age>120 || age===''){\r\n            arrayError.push(`La edad es incorrecta`);\r\n            valid=false;\r\n        }\r\n\r\n        if(lastName ===''){\r\n            arrayError.push(`El apellido no es válido`);\r\n            valid=false;\r\n        }\r\n\r\n        if(name ===''){\r\n            arrayError.push(`El nombre no es válido`);\r\n            valid=false;\r\n        }\r\n\r\n        if(!valid) setMsjError(arrayError);\r\n    \r\n        if(valid){\r\n            const tempUserList = [...list];\r\n            tempUserList.push(new User(name,lastName,false,age));\r\n            ev.target.reset();\r\n            setMsjError('');\r\n            setList(tempUserList);\r\n        }\r\n\r\n\r\n    }\r\n\r\n    const displayForm = ()=>{\r\n        setMostrarFormulario(!mostrarFormulario);\r\n    }\r\n\r\n    const eraseModal = ()=>{\r\n        setUsuarioPrueba('');\r\n    }\r\n\r\n    const showContact =(usuario)=>{\r\n        const index = list.indexOf(usuario);\r\n        setUsuarioPrueba(list[index]);\r\n    }\r\n    \r\n\r\n    // console.log(\"el usuario de prueba tiene:\",usuarioPrueba)\r\n    return (\r\n        <div className='flex'>\r\n            <table hidden={list.length>0? false : true}>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Nombre</th>\r\n                        <th>Status</th>\r\n                        <th className='btn-change-status'></th>\r\n                        <th className='remove'></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {list.map((elemento,index)=>\r\n                        <Contact \r\n                        key={index} \r\n                        usuario={elemento} \r\n                        changeStatus={changeStatus}\r\n                        removeContact={removeContact}\r\n                        showContact={showContact}\r\n                        />\r\n                        )\r\n                    }\r\n                </tbody>\r\n            </table>\r\n            {\r\n                // Show individual user information\r\n                usuarioPrueba!=='' ?\r\n                    <div className='description rel'>\r\n                        <i className=\"absol bi bi-x\" onClick={eraseModal} style={{cursor:'pointer'}}></i>\r\n                        <p><span>Nombre:</span> {usuarioPrueba.name}</p>\r\n                        <p><span>Apellido:</span> {usuarioPrueba.lastName}</p>\r\n                        <p><span>Edad:</span> {usuarioPrueba.age}</p>\r\n                    </div>\r\n                : \"\"}\r\n            \r\n            <button className='mt-3' onClick={displayForm}>Crear contacto</button>\r\n            {\r\n                // compare to display or not form\r\n                mostrarFormulario ?\r\n                    <div>\r\n                        <form className='mt-3 rel' onSubmit={createContact}>\r\n                            <i className=\"bi bi-x form-del absol\" style={{cursor:'pointer'}} onClick={displayForm}></i>\r\n                            Nombre: <input ref={refName} type=\"text\" placeholder='Ingrese Nombre' ></input>\r\n                            Apellido: <input ref={refLastName} type=\"text\" placeholder='Ingrese Apellido'></input>\r\n                            Edad: <input ref={refAge} type=\"text\" placeholder='Ingrese Edad'></input>\r\n                            <ul >\r\n                                {\r\n                                    // Compare if the error message have any item\r\n                                    msjError.length > 0 ?\r\n                                    msjError.map((error,index)=>{\r\n                                        //return list element with error\r\n                                        return(<li key={index}>{error}</li>)\r\n                                    })\r\n                                    : \"\"\r\n                                }\r\n                            </ul>\r\n                            <input type=\"submit\" value=\"Añadir\"></input>\r\n                        </form>\r\n                    </div>\r\n                : \"\"}\r\n        </div>\r\n\r\n    );\r\n};\r\n\r\n\r\nexport default ContactList;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}